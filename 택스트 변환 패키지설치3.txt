import 'package:flutter_tts/flutter_tts.dart'; // 임포트 필수

class MyTtsScreen extends StatefulWidget {
  // ...
}

class _MyTtsScreenState extends State<MyTtsScreen> {
  // 1. 객체 생성
  final FlutterTts flutterTts = FlutterTts();

  @override
  void initState() {
    super.initState();
    _initTts(); // 초기화 함수 호출
  }

  Future<void> _initTts() async {
    // 2. 언어 및 속도 설정
    await flutterTts.setLanguage("ko-KR");
    await flutterTts.setSpeechRate(1.0); // 0.0 ~ 1.0 (1.0이 꽤 빠를 수 있으니 0.5~0.8 추천)
    await flutterTts.setPitch(1.0);
    await flutterTts.setVolume(1.0);

    // 3. (iOS 전용) 무음 모드에서도 소리가 나도록 설정
    await flutterTts.setIosAudioCategory(
        IosTextToSpeechAudioCategory.playback,
        [
          IosTextToSpeechAudioCategoryOptions.defaultToSpeaker
        ]
    );
  }
  
  // ... 읽기 함수 예시: await flutterTts.speak("안녕하세요");
}